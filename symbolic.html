<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>symbolic &mdash; pyAMPACT 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
    <link rel="canonical" href="https://daniel-mckemie.github.io/symbolic.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="symbolicUtils" href="symbolicUtils.html" />
    <link rel="prev" title="performance" href="performance.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyAMPACT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="alignment.html">alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="alignmentUtils.html">alignmentUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">performance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">symbolic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">symbolic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pyampact.symbolic.Score"><code class="docutils literal notranslate"><span class="pre">Score</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.cdata"><code class="docutils literal notranslate"><span class="pre">Score.cdata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.chords"><code class="docutils literal notranslate"><span class="pre">Score.chords()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.contextualize"><code class="docutils literal notranslate"><span class="pre">Score.contextualize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.dez"><code class="docutils literal notranslate"><span class="pre">Score.dez()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.durations"><code class="docutils literal notranslate"><span class="pre">Score.durations()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.dynamics"><code class="docutils literal notranslate"><span class="pre">Score.dynamics()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.form"><code class="docutils literal notranslate"><span class="pre">Score.form()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.functions"><code class="docutils literal notranslate"><span class="pre">Score.functions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.getSpines"><code class="docutils literal notranslate"><span class="pre">Score.getSpines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.harm"><code class="docutils literal notranslate"><span class="pre">Score.harm()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.harmKeys"><code class="docutils literal notranslate"><span class="pre">Score.harmKeys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.insertAudioAnalysis"><code class="docutils literal notranslate"><span class="pre">Score.insertAudioAnalysis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.insertScoreDef"><code class="docutils literal notranslate"><span class="pre">Score.insertScoreDef()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.jsonCDATA"><code class="docutils literal notranslate"><span class="pre">Score.jsonCDATA()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.kernNotes"><code class="docutils literal notranslate"><span class="pre">Score.kernNotes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.lyrics"><code class="docutils literal notranslate"><span class="pre">Score.lyrics()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.mask"><code class="docutils literal notranslate"><span class="pre">Score.mask()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.midiPitches"><code class="docutils literal notranslate"><span class="pre">Score.midiPitches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.nmats"><code class="docutils literal notranslate"><span class="pre">Score.nmats()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.notes"><code class="docutils literal notranslate"><span class="pre">Score.notes()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.pianoRoll"><code class="docutils literal notranslate"><span class="pre">Score.pianoRoll()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.romanNumerals"><code class="docutils literal notranslate"><span class="pre">Score.romanNumerals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.sampled"><code class="docutils literal notranslate"><span class="pre">Score.sampled()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.show"><code class="docutils literal notranslate"><span class="pre">Score.show()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.toKern"><code class="docutils literal notranslate"><span class="pre">Score.toKern()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.toMEI"><code class="docutils literal notranslate"><span class="pre">Score.toMEI()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.tony"><code class="docutils literal notranslate"><span class="pre">Score.tony()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyampact.symbolic.Score.xmlIDs"><code class="docutils literal notranslate"><span class="pre">Score.xmlIDs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="symbolicUtils.html">symbolicUtils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyAMPACT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">symbolic</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/symbolic.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pyampact.symbolic">
<span id="symbolic"></span><h1>symbolic<a class="headerlink" href="#module-pyampact.symbolic" title="Link to this heading"></a></h1>
<section id="id1">
<h2>symbolic<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="pyampact.symbolic.Score">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyampact.symbolic.</span></span><span class="sig-name descname"><span class="pre">Score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score" title="Link to this definition"></a></dt>
<dd><p>A class to import a score via music21 and expose pyAMPACT’s analysis utilities.</p>
<p>The analysis utilities are generally formatted as pandas dataframes. This
class also ports over some matlab code to help with alignment of scores in
symbolic notation and audio analysis of recordings of those scores. <cite>Score</cite>
objects can insert analysis into an MEI file, and can export any type of
file to a kern format, optionally also including analysis from a JSON file.
Similarly, <cite>Score</cite> objects can serve clickable URLs of short excerpts of
their associated score in symbolic notation. These links open in the Verovio
Humdrum Viewer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>score_path</strong> – A string representing the path to the score file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Score object.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url_or_path</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span>
<span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="n">url_or_path</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.cdata">
<span class="sig-name descname"><span class="pre">cdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dataframe'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.cdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.cdata" title="Link to this definition"></a></dt>
<dd><p>Get the cdata records from <a href="#id2"><span class="problematic" id="id3">**</span></a>cdata spines in a kern file if there
are any and return it as a pandas DataFrame. This is
similar to the .harm, .functions, .chords, and .harmKeys methods, with the
exception that this method defaults to returning a dataframe since there are
often more than one cdata spine in a kern score. If want to get the results
of a different spine type (i.e. not one of the ones listed above), see
<a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">cdata</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to align these results so that they match the columnar (time) axis
of the pianoRoll, sampled, or mask results, you can pass the pianoRoll or mask
that you want to align to as the <cite>snap_to</cite> parameter. Doing that makes it easier
to combine these results with any of the pianoRoll, sampled, or mask tables to
have both in a single table which can make data analysis easier. Passing a <cite>snap_to</cite>
argument will automatically cause the return value to be a pandas series since
that’s facilitates combining the two. Here’s how you would use the <cite>snap_to</cite>
parameter and then combine the results with the pianoRoll to create a single table.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">cdata</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">cdata</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">cdata</span><span class="p">))</span>
</pre></div>
</div>
<p>The <cite>sampled</cite> and <cite>mask</cite> dfs often have more observations than the spine
contents, so you may want to fill in these new empty slots somehow. The kern
format uses ‘.’ as a filler token so you can pass this as the <cite>filler</cite>
parameter to fill all the new empty slots with this as well. If you choose
some other value, say <cite>filler=’_’</cite>, then in addition to filling in the empty
slots with underscores, this will also replace the kern ‘.’ observations with
‘_’. If you want to fill them in with NaN’s as pandas usually does, you can
pass <cite>filler=’nan’</cite> as a convenience. If you want to “forward fill” these
results, you can pass <cite>filler=’forward’</cite> (default). This will propagate the
last non-period (‘.’) observation until a new one is found. Finally, you can
pass filler=’drop’ to drop all empty observations (both NaNs and humdrum
periods).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snap_to</strong> – A pandas DataFrame to align the results to. Default is None.</p></li>
<li><p><strong>filler</strong> – A string representing the filler token. Default is ‘forward’.</p></li>
<li><p><strong>output</strong> – A string representing the output format. Default is ‘array’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array or pandas Series representing the harmonic keys
analysis.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.chords" title="pyampact.symbolic.Score.chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chords()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.functions" title="pyampact.symbolic.Score.functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">functions()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harm" title="pyampact.symbolic.Score.harm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harm()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harmKeys" title="pyampact.symbolic.Score.harmKeys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harmKeys()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.chords">
<span class="sig-name descname"><span class="pre">chords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.chords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.chords" title="Link to this definition"></a></dt>
<dd><p>Get the chord labels from the <a href="#id4"><span class="problematic" id="id5">**</span></a>chord spine in a kern file if there
is one and return it as an array or a time-aligned pandas Series. This is
similar to the .functions, .harm, .harmKeys, and .cdata methods. The default
is for the results to be returned as a 1-d array, but you can set <cite>output=’series’</cite>
for a pandas series instead. If want to get the results of a different spine
type (i.e. not one of the ones listed above), see <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">chords</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to align these results so that they match the columnar (time) axis
of the pianoRoll, sampled, or mask results, you can pass the pianoRoll or mask
that you want to align to as the <cite>snap_to</cite> parameter. Doing that makes it easier
to combine these results with any of the pianoRoll, sampled, or mask tables to
have both in a single table which can make data analysis easier. Passing a <cite>snap_to</cite>
argument will automatically cause the return value to be a pandas series since
that’s facilitates combining the two. Here’s how you would use the <cite>snap_to</cite>
parameter and then combine the results with the pianoRoll to create a single table.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">chords</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">chords</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">chords</span><span class="p">))</span>
</pre></div>
</div>
<p>The <cite>sampled</cite> and <cite>mask</cite> dfs often have more observations than the spine
contents, so you may want to fill in these new empty slots somehow. The kern
format uses ‘.’ as a filler token so you can pass this as the <cite>filler</cite>
parameter to fill all the new empty slots with this as well. If you choose
some other value, say <cite>filler=’_’</cite>, then in addition to filling in the empty
slots with underscores, this will also replace the kern ‘.’ observations with
‘_’. If you want to fill them in with NaN’s as pandas usually does, you can
pass <cite>filler=’nan’</cite> as a convenience. If you want to “forward fill” these
results, you can pass <cite>filler=’forward’</cite> (default). This will propagate the
last non-period (‘.’) observation until a new one is found. Finally, you can
pass filler=’drop’ to drop all empty observations (both NaNs and humdrum
periods).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snap_to</strong> – A pandas DataFrame to align the results to. Default is None.</p></li>
<li><p><strong>filler</strong> – A string representing the filler token. Default is ‘forward’.</p></li>
<li><p><strong>output</strong> – A string representing the output format. Default is ‘array’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array or pandas Series representing the harmonic keys
analysis.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.cdata" title="pyampact.symbolic.Score.cdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cdata()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.functions" title="pyampact.symbolic.Score.functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">functions()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harm" title="pyampact.symbolic.Score.harm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harm()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harmKeys" title="pyampact.symbolic.Score.harmKeys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harmKeys()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.contextualize">
<span class="sig-name descname"><span class="pre">contextualize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.contextualize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.contextualize" title="Link to this definition"></a></dt>
<dd><p>Add measure and beat numbers to a DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – A DataFrame to which to add measure and beat numbers.</p></li>
<li><p><strong>measures</strong> – Boolean, default True. If True, measure numbers will be added.</p></li>
<li><p><strong>beats</strong> – Boolean, default True. If True, beat numbers will be added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with measure and beat numbers added.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.dez">
<span class="sig-name descname"><span class="pre">dez</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.dez"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.dez" title="Link to this definition"></a></dt>
<dd><p>Get the labels data from a .dez file/url and return it as a dataframe. Calls
fromJSON to do this. The “meta” portion of the dez file is ignored. If no
path is provided, the last dez table imported with this method is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – A string representing the path to the .dez file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame representing the labels in the .dez file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.durations">
<span class="sig-name descname"><span class="pre">durations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.durations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.durations" title="Link to this definition"></a></dt>
<dd><p>Return a DataFrame of durations of note and rest objects in the piece.</p>
<p>If a DataFrame is provided as <cite>df</cite>, the method calculates the difference
between cell offsets per column in the passed DataFrame, skipping
memoization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>multi_index</strong> – Boolean, default False. If True, the returned DataFrame
will have a MultiIndex.</p></li>
<li><p><strong>df</strong> – Optional DataFrame. If provided, the method calculates the
difference between cell offsets per column in this DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame of durations of note and rest objects in the piece.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyampact.symbolic.Score.notes" title="pyampact.symbolic.Score.notes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notes()</span></code></a></dt><dd><p>Return a DataFrame of the notes and rests given in American Standard Pitch Notation</p>
</dd>
</dl>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">durations</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.dynamics">
<span class="sig-name descname"><span class="pre">dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.dynamics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.dynamics" title="Link to this definition"></a></dt>
<dd><p>Extract the dynamics from the score.</p>
<p>The dynamics are extracted from each part and returned as a pandas DataFrame
where each column represents a part and each row represents a dynamic
marking. The DataFrame is indexed by the offset of the dynamic markings.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame representing the dynamics in the score.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.lyrics" title="pyampact.symbolic.Score.lyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lyrics()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">dynamics</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.form">
<span class="sig-name descname"><span class="pre">form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dez_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.form" title="Link to this definition"></a></dt>
<dd><p>Get the “Structure” labels from a .dez file/url and return it as an array or a
time-aligned pandas Series. The default is for the results to be returned as a 1-d
array, but you can set <cite>output=’series’</cite> for a pandas series instead. If you want to align
these results so that they match the columnar (time) axis of the pianoRoll, sampled, or
mask results, you can pass the pianoRoll or mask that you want to align to as the <cite>snap_to</cite>
parameter. Doing that makes it easier to combine these results with any of the pianoRoll,
sampled, or mask tables to have both in a single table which can make data analysis easier.
This example shows how to get the form analysis from a .dez file.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;test_files/K279-1.krn&#39;</span><span class="p">)</span>
<span class="n">form</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">form</span><span class="p">(</span><span class="n">dez_path</span><span class="o">=</span><span class="s1">&#39;test_files/K279-1_harmony_texture.dez&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.functions">
<span class="sig-name descname"><span class="pre">functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.functions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.functions" title="Link to this definition"></a></dt>
<dd><p>Get the harmonic function labels from a <a href="#id6"><span class="problematic" id="id7">**</span></a>function spine in a kern file if there
is one and return it as an array or a time-aligned pandas Series. This is
similar to the .harm, .harmKeys, .chords, and .cdata methods. The default
is for the results to be returned as a 1-d array, but you can set <cite>output=’series’</cite>
for a pandas series instead. If want to get the results of a different spine
type (i.e. not one of the ones listed above), see <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">functions</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to align these results so that they match the columnar (time) axis
of the pianoRoll, sampled, or mask results, you can pass the pianoRoll or mask
that you want to align to as the <cite>snap_to</cite> parameter. Doing that makes it easier
to combine these results with any of the pianoRoll, sampled, or mask tables to
have both in a single table which can make data analysis easier. Passing a <cite>snap_to</cite>
argument will automatically cause the return value to be a pandas series since
that’s facilitates combining the two. Here’s how you would use the <cite>snap_to</cite>
parameter and then combine the results with the pianoRoll to create a single table.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">functions</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">functions</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">functions</span><span class="p">))</span>
</pre></div>
</div>
<p>The <cite>sampled</cite> and <cite>mask</cite> dfs often have more observations than the spine
contents, so you may want to fill in these new empty slots somehow. The kern
format uses ‘.’ as a filler token so you can pass this as the <cite>filler</cite>
parameter to fill all the new empty slots with this as well. If you choose
some other value, say <cite>filler=’_’</cite>, then in addition to filling in the empty
slots with underscores, this will also replace the kern ‘.’ observations with
‘_’. If you want to fill them in with NaN’s as pandas usually does, you can
pass <cite>filler=’nan’</cite> as a convenience. If you want to “forward fill” these
results, you can pass <cite>filler=’forward’</cite> (default). This will propagate the
last non-period (‘.’) observation until a new one is found. Finally, you can
pass filler=’drop’ to drop all empty observations (both NaNs and humdrum
periods).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snap_to</strong> – A pandas DataFrame to align the results to. Default is None.</p></li>
<li><p><strong>filler</strong> – A string representing the filler token. Default is ‘forward’.</p></li>
<li><p><strong>output</strong> – A string representing the output format. Default is ‘array’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array or pandas Series representing the harmonic keys
analysis.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.cdata" title="pyampact.symbolic.Score.cdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cdata()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.chords" title="pyampact.symbolic.Score.chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chords()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harm" title="pyampact.symbolic.Score.harm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harm()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harmKeys" title="pyampact.symbolic.Score.harmKeys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harmKeys()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.getSpines">
<span class="sig-name descname"><span class="pre">getSpines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spineType</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.getSpines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.getSpines" title="Link to this definition"></a></dt>
<dd><p>Return a pandas DataFrame of a less common spine type. This method is a
window into the vast ecosystem of Humdrum tools making them accessible to
pyAMPACT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spineType</strong> – A string representing the spine type to return. You can
pass the spine type with or without the “**” prefix.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame of the given spine type.</p>
</dd>
</dl>
<p>Similar to the .harm, .harmKeys, .functions, .chords, and .cdata methods, this
method returns the contents of a specific spine type from a kern file. This is
a generic method that can be used to get the contents of any spine type other
than: <a href="#id8"><span class="problematic" id="id9">**</span></a>kern, <a href="#id10"><span class="problematic" id="id11">**</span></a>dynam, <a href="#id12"><span class="problematic" id="id13">**</span></a>text, <a href="#id14"><span class="problematic" id="id15">**</span></a>cdata, <a href="#id16"><span class="problematic" id="id17">**</span></a>chord, <a href="#id18"><span class="problematic" id="id19">**</span></a>harm, or <a href="#id20"><span class="problematic" id="id21">**</span></a>function. Many
of the other spine types that you may be interested provide partwise data.
For example, the results of Humlib’s Renaissance dissonance analysis are given
as one “<a href="#id22"><span class="problematic" id="id23">**</span></a>cdata-rdiss” spine per part. Note that a <a href="#id24"><span class="problematic" id="id25">**</span></a>cdata-rdiss spine is not
the same as a <a href="#id26"><span class="problematic" id="id27">**</span></a>cdata spine. This is why we return a DataFrame rather than
an array or series. If there is just one spine of the spine type you request,
the data will still be given as a 1-column dataframe. When you import a kern
file, it automatically gets scanned for other spine types and if any are found
that are accessible with this method, a list of them will be printed to the
console.</p>
<p>This example takes a score with <a href="#id28"><span class="problematic" id="id29">**</span></a>cdata-rdiss spines (Renaissance dissonance
analysis), and makes a DataFrame of just the <a href="#id30"><span class="problematic" id="id31">**</span></a>cdata-rdiss spines. The full
score with color-coded dissonance labels can be seen on the Verovio Humdrum
Viewer <a class="reference external" href="https://verovio.humdrum.org/?k=ey&amp;filter=dissonant%20--color&amp;file=jrp:Tin2004">here</a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/jcdevaney/pyAMPACT/blob/master/test_files/O_virgo_miserere_mei.krn&#39;</span><span class="p">)</span>
<span class="n">rdiss</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">getSpines</span><span class="p">(</span><span class="s1">&#39;cdata-rdiss&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.cdata" title="pyampact.symbolic.Score.cdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cdata()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.chords" title="pyampact.symbolic.Score.chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chords()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.dynamics" title="pyampact.symbolic.Score.dynamics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dynamics()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.functions" title="pyampact.symbolic.Score.functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">functions()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harm" title="pyampact.symbolic.Score.harm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harm()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harmKeys" title="pyampact.symbolic.Score.harmKeys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harmKeys()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.lyrics" title="pyampact.symbolic.Score.lyrics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lyrics()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.harm">
<span class="sig-name descname"><span class="pre">harm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.harm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.harm" title="Link to this definition"></a></dt>
<dd><p>Get the harmonic analysis portion of the <a href="#id32"><span class="problematic" id="id33">**</span></a>harm spine in a kern file if there
is one and return it as an array or a time-aligned pandas Series. The prevailing
key signature information is not included here from the harm spine, but that key
information is available in the .harmKeys method. This is similar to the
.harmKeys, .functions, .chords, and .cdata methods. The default is for the
results to be returned as a 1-d array, but you can set <cite>output=’series’</cite>
for a pandas series instead which is helpful if you’re going to concatenate
the results to a dataframe. If want to get the results of a different spine
type (i.e. not one of the ones listed above), see <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a>.</p>
<p>If you want to align these results so that they match the columnar (time) axis
of the pianoRoll, sampled, or mask results, you can pass the pianoRoll or mask
that you want to align to as the <cite>snap_to</cite> parameter. Doing that makes it easier
to combine these results with any of the pianoRoll, sampled, or mask tables to
have both in a single table which can make data analysis easier. Passing a <cite>snap_to</cite>
argument will automatically cause the return value to be a pandas series since
that’s facilitates combining the two. Here’s how you would use the <cite>snap_to</cite>
parameter and then combine the results with the pianoRoll to create a single table.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">harm</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">harm</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">harm</span><span class="p">))</span>
</pre></div>
</div>
<p>The <cite>sampled</cite> and <cite>mask</cite> dfs often have more observations than the spine
contents, so you may want to fill in these new empty slots somehow. The kern
format uses ‘.’ as a filler token so you can pass this as the <cite>filler</cite>
parameter to fill all the new empty slots with this as well. If you choose
some other value, say <cite>filler=’_’</cite>, then in addition to filling in the empty
slots with underscores, this will also replace the kern ‘.’ observations with
‘_’. If you want to fill them in with NaN’s as pandas usually does, you can
pass <cite>filler=’nan’</cite> as a convenience. If you want to “forward fill” these
results, you can pass <cite>filler=’forward’</cite> (default). This will propagate the
last non-period (‘.’) observation until a new one is found. Finally, you can
pass filler=’drop’ to drop all empty observations (both NaNs and humdrum
periods).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snap_to</strong> – A pandas DataFrame to align the results to. Default is None.</p></li>
<li><p><strong>filler</strong> – A string representing the filler token. Default is ‘forward’.</p></li>
<li><p><strong>output</strong> – A string representing the output format. Default is ‘array’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array or pandas Series representing the harmonic keys
analysis.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.cdata" title="pyampact.symbolic.Score.cdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cdata()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.chords" title="pyampact.symbolic.Score.chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chords()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.functions" title="pyampact.symbolic.Score.functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">functions()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harmKeys" title="pyampact.symbolic.Score.harmKeys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harmKeys()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.harmKeys">
<span class="sig-name descname"><span class="pre">harmKeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.harmKeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.harmKeys" title="Link to this definition"></a></dt>
<dd><p>Get the key signature portion of the <a href="#id34"><span class="problematic" id="id35">**</span></a>harm spine in a kern file if there
is one and return it as an array or a time-aligned pandas Series. This is
similar to the .harm, .functions, .chords, and .cdata methods. The default
is for the results to be returned as a 1-d array, but you can set <cite>output=’series’</cite>
for a pandas series instead. If want to get the results of a different spine
type (i.e. not one of the ones listed above), see <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">harmKeys</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to align these results so that they match the columnar (time) axis
of the pianoRoll, sampled, or mask results, you can pass the pianoRoll or mask
that you want to align to as the <cite>snap_to</cite> parameter. Doing that makes it easier
to combine these results with any of the pianoRoll, sampled, or mask tables to
have both in a single table which can make data analysis easier. Passing a <cite>snap_to</cite>
argument will automatically cause the return value to be a pandas series since
that’s facilitates combining the two. Here’s how you would use the <cite>snap_to</cite>
parameter and then combine the results with the pianoRoll to create a single table.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">harmKeys</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">harmKeys</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">)</span>
<span class="n">combined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">pianoRoll</span><span class="p">,</span> <span class="n">harmKeys</span><span class="p">))</span>
</pre></div>
</div>
<p>The <cite>sampled</cite> and <cite>mask</cite> dfs often have more observations than the spine
contents, so you may want to fill in these new empty slots somehow. The kern
format uses ‘.’ as a filler token so you can pass this as the <cite>filler</cite>
parameter to fill all the new empty slots with this as well. If you choose
some other value, say <cite>filler=’_’</cite>, then in addition to filling in the empty
slots with underscores, this will also replace the kern ‘.’ observations with
‘_’. If you want to fill them in with NaN’s as pandas usually does, you can
pass <cite>filler=’nan’</cite> as a convenience. If you want to “forward fill” these
results, you can pass <cite>filler=’forward’</cite> (default). This will propagate the
last non-period (‘.’) observation until a new one is found. Finally, you can
pass filler=’drop’ to drop all empty observations (both NaNs and humdrum
periods).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snap_to</strong> – A pandas DataFrame to align the results to. Default is None.</p></li>
<li><p><strong>filler</strong> – A string representing the filler token. Default is ‘forward’.</p></li>
<li><p><strong>output</strong> – A string representing the output format. Default is ‘array’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array or pandas Series representing the harmonic keys
analysis.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.cdata" title="pyampact.symbolic.Score.cdata"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cdata()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.chords" title="pyampact.symbolic.Score.chords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chords()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.functions" title="pyampact.symbolic.Score.functions"><code class="xref py py-meth docutils literal notranslate"><span class="pre">functions()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.harm" title="pyampact.symbolic.Score.harm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">harm()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.getSpines" title="pyampact.symbolic.Score.getSpines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getSpines()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.insertAudioAnalysis">
<span class="sig-name descname"><span class="pre">insertAudioAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mimetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.insertAudioAnalysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.insertAudioAnalysis" title="Link to this definition"></a></dt>
<dd><p>Insert a &lt;performance&gt; element into the MEI score given the analysis data
(<cite>json_path</cite>). The original score must be an MEI file. The JSON data will be
extracted via the <cite>.nmats()</cite> method. If provided, the <cite>mimetype</cite> and <cite>target</cite>
get passed as attributes to the &lt;avFile&gt; element. The performance element
will nest the DataFrame data in the &lt;performance&gt; element as a child of
&lt;music&gt; and a sibling of &lt;body&gt;. A new file will be saved to the
<cite>output_filename</cite> in the output_files directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;music&gt;
    &lt;performance xml:id=&quot;pyAMPACT-1&quot;&gt;
        &lt;recording xml:id=&quot;pyAMPACT-2&quot;&gt;
            &lt;avFile mimetype=&quot;audio/aiff&quot; target=&quot;song.wav&quot; xml:id=&quot;pyAMPACT-3&quot; /&gt;
            &lt;when absolute=&quot;00:00:12:428&quot; xml:id=&quot;pyAMPACT-4&quot; data=&quot;#note_1&quot;&gt;
                &lt;extData xml:id=&quot;pyAMPACT-5&quot;&gt;
                    &lt;![CDATA[&gt;
                        {&quot;ppitch&quot;:221.30926295063591, &quot;jitter&quot;:0.7427361, ...}
                    ]]&gt;
                &lt;/extData&gt;
            &lt;/when&gt;
            &lt;when absolute=&quot;00:00:12:765&quot; xml:id=&quot;pyAMPACT-6&quot; data=&quot;#note_2&quot;&gt;
            ...
        &lt;/recording&gt;
    &lt;/performance&gt;
    &lt;body&gt;
        ...
    &lt;/body&gt;
&lt;/music&gt;
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_filename</strong> – The name of the output file.</p></li>
<li><p><strong>json_path</strong> – Path to a JSON file containing analysis data.</p></li>
<li><p><strong>mimetype</strong> – Optional MIME type to be set as an attribute to the &lt;avFile&gt;
element.</p></li>
<li><p><strong>target</strong> – Optional target to be set as an attribute to the &lt;avFile&gt;
element.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None but a new file is written</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.nmats" title="pyampact.symbolic.Score.nmats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nmats()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.toKern" title="pyampact.symbolic.Score.toKern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toKern()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;./test_files/CloseToYou.mei.xml&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">insertAudioAnalysis</span><span class="p">(</span><span class="n">output_filename</span><span class="o">=</span><span class="s1">&#39;newfile.mei.xml&#39;</span>
    <span class="n">json_path</span><span class="o">=</span><span class="s1">&#39;./test_files/CloseToYou.json&#39;</span><span class="p">,</span>
    <span class="n">mimetype</span><span class="o">=</span><span class="s1">&#39;audio/aiff&#39;</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="s1">&#39;Close to You vocals.wav&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.insertScoreDef">
<span class="sig-name descname"><span class="pre">insertScoreDef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.insertScoreDef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.insertScoreDef" title="Link to this definition"></a></dt>
<dd><p>Insert a scoreDef element into an MEI (Music Encoding Initiative) document.</p>
<p>This function inserts a scoreDef element into an MEI document if one is
not already present. It modifies the input element in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>root</strong> – An xml.etree.ElementTree.Element representing the root of the
MEI document.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.jsonCDATA">
<span class="sig-name descname"><span class="pre">jsonCDATA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.jsonCDATA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.jsonCDATA" title="Link to this definition"></a></dt>
<dd><p>Return a dictionary of pandas DataFrames, one for each voice. These
DataFrames contain the cdata from the JSON file designated in <cite>json_path</cite>
with each nested key in the JSON object becoming a column name in the
DataFrame. The outermost keys of the JSON cdata will become the “absolute”
column. While the columns are different, there are as many rows in these
DataFrames as there are in those of the nmats DataFrames for each voice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>json_path</strong> – Path to a JSON file containing cdata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of pandas DataFrames, one for each voice.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fromJSON()</span></code>, <a class="reference internal" href="#pyampact.symbolic.Score.insertAudioAnalysis" title="pyampact.symbolic.Score.insertAudioAnalysis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insertAudioAnalysis()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.nmats" title="pyampact.symbolic.Score.nmats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nmats()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.xmlIDs" title="pyampact.symbolic.Score.xmlIDs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">xmlIDs()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;./test_files/CloseToYou.mei.xml&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">jsonCDATA</span><span class="p">(</span><span class="n">json_path</span><span class="o">=</span><span class="s1">&#39;./test_files/CloseToYou.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.kernNotes">
<span class="sig-name descname"><span class="pre">kernNotes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.kernNotes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.kernNotes" title="Link to this definition"></a></dt>
<dd><p>Return a DataFrame of the notes and rests given in kern notation.</p>
<p>This is not the same as creating a kern format of a score, but is an
important step in that process.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame of notes and rests in kern notation.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="field-list simple">
<dt class="field-odd">meth<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>midiPitches</cite></p>
</dd>
</dl>
<dl class="simple">
<dt><a class="reference internal" href="#pyampact.symbolic.Score.notes" title="pyampact.symbolic.Score.notes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notes()</span></code></a></dt><dd><p>Return a DataFrame of the notes and rests given in American Standard
Pitch Notation</p>
</dd>
</dl>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">kernNotes</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.lyrics">
<span class="sig-name descname"><span class="pre">lyrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.lyrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.lyrics" title="Link to this definition"></a></dt>
<dd><p>Extract the lyrics from the score.</p>
<p>The lyrics are extracted from each part and returned as a pandas DataFrame
where each column represents a part and each row represents a lyric. The
DataFrame is indexed by the offset of the lyrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>strip</strong> – Boolean, default True. If True, the method will strip leading
and trailing whitespace from the lyrics.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame representing the lyrics in the score.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.dynamics" title="pyampact.symbolic.Score.dynamics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dynamics()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/AMPACT/main/test_files/busnoys.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">lyrics</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_harmonics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bpm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aFreq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">440</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_note</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuning_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.mask" title="Link to this definition"></a></dt>
<dd><p>Construct a mask from the sampled piano roll using width and harmonics. This
builds on the intermediate representations of the pianoRoll and sampled
methods. The sampled method already put the x-axis (columns) in regular
time intervals. The mask keeps these columns and then alters the y-axis (rows)
into frequency bins. The number of bins is determined by the winms and sample_rate
values, and is equal to some power of 2 plus 1. The frequency bins serve to “blur”
the sampled pitch data that we expect from the score. This allows us to detect
real performed sounds in audio recordings that are likely slightly above or below
the precise notated pitches. The mask is what allows pyAMPACT to connect
symbolic events in a score to observed sounds in an audio recording. Increasing
the <cite>num_harmonics</cite> will also include that many harmonics of a notated score
pitch in the mask. Note that the first harmonic is the fundamental frequency
which is why the <cite>num_harmonics</cite> parameter defaults to 1. The <cite>width</cite> parameter
controls how broad or “blurry” the mask is compared to the notated score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>winms</strong> – Integer, default 100. The window size in milliseconds.</p></li>
<li><p><strong>sample_rate</strong> – Integer, default 2000. The sample rate in Hz.</p></li>
<li><p><strong>num_harmonics</strong> – Integer, default 1. The number of harmonics to use.</p></li>
<li><p><strong>width</strong> – Integer, default 0. The width of the mask.</p></li>
<li><p><strong>bpm</strong> – Integer, default 60. The beats per minute to use for sampling.</p></li>
<li><p><strong>aFreq</strong> – Integer, default 440. The frequency of A4 in Hz.</p></li>
<li><p><strong>base_note</strong> – Integer, default 0. The base MIDI note to use.</p></li>
<li><p><strong>tuning_factor</strong> – Float, default 1. The tuning factor to use.</p></li>
<li><p><strong>obs</strong> – Integer, default 20. The desired observations per second.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame representing the mask. Each row corresponds to a
frequency bin, and each column corresponds to a timepoint in the
sampled score. The values are 1 for a note onset and 0 otherwise.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.pianoRoll" title="pyampact.symbolic.Score.pianoRoll"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pianoRoll()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.sampled" title="pyampact.symbolic.Score.sampled"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sampled()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">mask</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.midiPitches">
<span class="sig-name descname"><span class="pre">midiPitches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.midiPitches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.midiPitches" title="Link to this definition"></a></dt>
<dd><p>Return a DataFrame of notes and rests as MIDI pitches.</p>
<p>MIDI does not have a representation for rests, so -1 is used as a
placeholder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>multi_index</strong> – Boolean, default False. If True, the returned DataFrame
will have a MultiIndex.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame of notes and rests as MIDI pitches. Rests are
represented as -1.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyampact.symbolic.Score.kernNotes" title="pyampact.symbolic.Score.kernNotes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">kernNotes()</span></code></a></dt><dd><p>Return a DataFrame of the notes and rests given in kern notation.</p>
</dd>
<dt><a class="reference internal" href="#pyampact.symbolic.Score.notes" title="pyampact.symbolic.Score.notes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notes()</span></code></a></dt><dd><p>Return a DataFrame of the notes and rests given in American Standard Pitch Notation</p>
</dd>
</dl>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">midiPitches</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.nmats">
<span class="sig-name descname"><span class="pre">nmats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_cdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.nmats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.nmats" title="Link to this definition"></a></dt>
<dd><p>Return a dictionary of DataFrames, one for each voice, with information
about the notes and rests in that voice.</p>
<p>Each DataFrame has the following columns:</p>
<p>MEASURE  ONSET  DURATION  PART  MIDI  ONSET_SEC  OFFSET_SEC</p>
<p>In the MIDI column, notes are represented
with their MIDI pitch numbers (0 to 127), and rests are represented with -1s.
The ONSET_SEC and OFFSET_SEC columns are taken from the audio analysis from
the <cite>json_path</cite> file if one is given. The XML_IDs of each note or rest serve
as the index for this DataFrame. If <cite>include_cdata</cite> is True and a <cite>json_path</cite>
is provided, the cdata from the json file is included in the DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_path</strong> – Optional path to a JSON file containing audio analysis data.</p></li>
<li><p><strong>include_cdata</strong> – Boolean, default False. If True and a <cite>json_path</cite> is
provided, the cdata from the json file is included in the DataFrame.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of DataFrames, one for each voice.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fromJSON()</span></code>, <a class="reference internal" href="#pyampact.symbolic.Score.insertAudioAnalysis" title="pyampact.symbolic.Score.insertAudioAnalysis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insertAudioAnalysis()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.jsonCDATA" title="pyampact.symbolic.Score.jsonCDATA"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jsonCDATA()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.xmlIDs" title="pyampact.symbolic.Score.xmlIDs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">xmlIDs()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K179/Krn/K179.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">nmats</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.notes">
<span class="sig-name descname"><span class="pre">notes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">combine_rests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combine_unisons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.notes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.notes" title="Link to this definition"></a></dt>
<dd><p>Return a DataFrame of the notes and rests given in American Standard Pitch
Notation where middle C is C4. Rests are designated with the string “r”.</p>
<p>If <cite>combine_rests</cite> is True (default), non-first consecutive rests will be
removed, effectively combining consecutive rests in each voice.
<cite>combine_unisons</cite> works the same way for consecutive attacks on the same
pitch in a given voice, however, <cite>combine_unisons</cite> defaults to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>combine_rests</strong> – Boolean, default True. If True, non-first consecutive
rests will be removed.</p></li>
<li><p><strong>combine_unisons</strong> – Boolean, default False. If True, consecutive attacks
on the same pitch in a given voice will be combined.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame of notes and rests in American Standard Pitch Notation.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyampact.symbolic.Score.kernNotes" title="pyampact.symbolic.Score.kernNotes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">kernNotes()</span></code></a></dt><dd><p>Return a DataFrame of the notes and rests given in kern notation.</p>
</dd>
</dl>
<p><a class="reference internal" href="#pyampact.symbolic.Score.midiPitches" title="pyampact.symbolic.Score.midiPitches"><code class="xref py py-meth docutils literal notranslate"><span class="pre">midiPitches()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">notes</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.pianoRoll">
<span class="sig-name descname"><span class="pre">pianoRoll</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.pianoRoll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.pianoRoll" title="Link to this definition"></a></dt>
<dd><p>Construct a MIDI piano roll. This representation of a score plots midi pitches
on the y-axis (rows) and time on the x-axis (columns). Midi pitches are given
as integers from 0 to 127 inclusive, and time is given in quarter notes counting
up from the beginning of the piece. At any given time in the piece (column), all
the sounding pitches are shown as 1s in the corresponding rows. There is no
midi representation of rests so these are not shown in the pianoRoll. Similarly,
in this representation you can’t tell if a single voice is sounding a given note,
of if multiple voices are sounding the same note. The end result looks like a
player piano roll but 1s are used instead of holes. This method is primarily
used as an intermediate step in the construction of a mask.</p>
<p>Note: There are 128 possible MIDI pitches.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame representing the MIDI piano roll. Each row corresponds
to a MIDI pitch (0 to 127), and each column corresponds to an offset in
the score. The values are 1 for a note onset and 0 otherwise.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.mask" title="pyampact.symbolic.Score.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mask()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.sampled" title="pyampact.symbolic.Score.sampled"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sampled()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.romanNumerals">
<span class="sig-name descname"><span class="pre">romanNumerals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snap_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'forward'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'array'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dez_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.romanNumerals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.romanNumerals" title="Link to this definition"></a></dt>
<dd><p>Get the roman numeral labels from a .dez file/url or <a href="#id36"><span class="problematic" id="id37">**</span></a>harm spine and return it as an array
or a time-aligned pandas Series. The default is for the results to be returned as a 1-d
array, but you can set <cite>output=’series’</cite> for a pandas series instead. If you want to align
these results so that they match the columnar (time) axis of the pianoRoll, sampled, or mask
results, you can pass the pianoRoll or mask that you want to align to as the <cite>snap_to</cite> parameter.
Doing that makes it easier to combine these results with any of the pianoRoll, sampled, or mask
tables to have both in a single table which can make data analysis easier. This example shows
how to get the roman numeral analysis from a kern score that has a <a href="#id38"><span class="problematic" id="id39">**</span></a>harm spine.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/alexandermorgan/TAVERN/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">pianoRoll</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">pianoRoll</span><span class="p">()</span>
<span class="n">romanNumerals</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">romanNumerals</span><span class="p">(</span><span class="n">snap_to</span><span class="o">=</span><span class="n">pianoRoll</span><span class="p">)</span>
</pre></div>
</div>
<p>The next example shows how to get the roman numeral analysis from a .dez file.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;test_files/K279-1.krn&#39;</span><span class="p">)</span>
<span class="n">romanNumerals</span> <span class="o">=</span> <span class="n">piece</span><span class="o">.</span><span class="n">romanNumerals</span><span class="p">(</span><span class="n">dez_path</span><span class="o">=</span><span class="s1">&#39;test_files/K279-1_harmony_texture.dez&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.sampled">
<span class="sig-name descname"><span class="pre">sampled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bpm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.sampled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.sampled" title="Link to this definition"></a></dt>
<dd><p>Sample the score according to the given beats per minute (bpm) and the
desired observations per second (obs). This method is primarily used as an
intermediate step in the construction of a mask. It builds on the pianoRoll
by sampling the time axis (columns) at the desired rate. The result is a
DataFrame where each row corresponds to a MIDI pitch (0 to 127), and each
column corresponds to a timepoint in the sampled score. The difference
between this and the pianoRoll is that the columns are sampled at a regular
time intervals, rather than at each new event as they are in the pianoRoll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bpm</strong> – Integer, default 60. The beats per minute to use for sampling.</p></li>
<li><p><strong>obs</strong> – Integer, default 20. The desired observations per second.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame representing the sampled score. Each row corresponds
to a MIDI pitch (0 to 127), and each column corresponds to a timepoint
in the sampled score. The values are 1 for a note onset and 0 otherwise.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.mask" title="pyampact.symbolic.Score.mask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mask()</span></code></a>, <a class="reference internal" href="#pyampact.symbolic.Score.pianoRoll" title="pyampact.symbolic.Score.pianoRoll"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pianoRoll()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">sampled</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.show" title="Link to this definition"></a></dt>
<dd><p>Print a VerovioHumdrumViewer link to the score in between the <cite>start</cite> and
<cite>stop</cite> measures (inclusive).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – Optional integer representing the starting measure. If <cite>start</cite>
is greater than <cite>stop</cite>, they will be swapped.</p></li>
<li><p><strong>stop</strong> – Optional integer representing the last measure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None but a url is printed out</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.toKern" title="pyampact.symbolic.Score.toKern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toKern()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K398/Krn/K398.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.toKern">
<span class="sig-name descname"><span class="pre">toKern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lyrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dynamics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.toKern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.toKern" title="Link to this definition"></a></dt>
<dd><p>Create a kern representation of the score. If no <cite>path_name</cite> variable is
passed, then returns a pandas DataFrame of the kern representation.
Otherwise a file is created or overwritten at the <cite>path_name</cite> path. If
path_name does not end in ‘.krn’ then this file extension will be added
to the path. If <cite>lyrics</cite> is <cite>True</cite> (default) then the lyrics for each part
will be added to the output, if there are lyrics. The same applies to
<cite>dynamics</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_name</strong> – Optional string representing the path to save the kern
file.</p></li>
<li><p><strong>data</strong> – Optional string representing the data to be converted to kern
format.</p></li>
<li><p><strong>lyrics</strong> – Boolean, default True. If True, lyrics for each part will
be added.</p></li>
<li><p><strong>dynamics</strong> – Boolean, default True. If True, dynamics for each part
will be added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of new kern score if no <cite>path_name</cite> is given, or None if
writing the new kern file to the location of <cite>path_name</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.show" title="pyampact.symbolic.Score.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a kern file from a different symbolic notation file</span>
<span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K179/Krn/K179.xml&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">toKern</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.toMEI">
<span class="sig-name descname"><span class="pre">toMEI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indentation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'annot'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.toMEI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.toMEI" title="Link to this definition"></a></dt>
<dd><p>Write or return an MEI score optionally including analysis data.</p>
<p>If no <cite>file_name</cite> is passed then returns a string of the MEI representation.
Otherwise a file called <cite>file_name</cite> is created or overwritten in the <cite>output_files</cite>
directory. If <cite>file_name</cite> does not end in ‘.mei.xml’ or ‘.mei’, then the <cite>.mei.xml</cite>
file extension will be added to the <cite>file_name</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> – Optional string representing the name to save the new
MEI file to in the <cite>output_files</cite> directory.</p></li>
<li><p><strong>data</strong> – Optional string of the path of score data in json format to
be added to the the new mei file.</p></li>
<li><p><strong>start</strong> – Optional integer representing the starting measure. If <cite>start</cite>
is greater than <cite>stop</cite>, they will be swapped.</p></li>
<li><p><strong>stop</strong> – Optional integer representing the last measure.</p></li>
<li><p><strong>dfs</strong> – Optional dictionary of pandas DataFrames to be added to the
new MEI file. The keys of the dictionary will be used as the <cite>&#64;type</cite>
attribute of the <cite>analysis_tag</cite> parameter element.</p></li>
<li><p><strong>analysis_tag</strong> – Optional string representing the name of the tag to
be used for the analysis data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of new MEI score if no <cite>file_name</cite> is given, or None if
writing the new MEI file to <cite>output_files/&lt;file_name&gt;.mei.xml</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.toKern" title="pyampact.symbolic.Score.toKern"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toKern()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create an MEI file from a different symbolic notation file</span>
<span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;kerntest.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">toMEI</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;meiFile.mei.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.tony">
<span class="sig-name descname"><span class="pre">tony</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.tony"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.tony" title="Link to this definition"></a></dt>
<dd><p>Get the labels data from a .tony file/url and return it as a dataframe. Calls
fromJSON to do this. The “meta” portion of the tony file is ignored. If no
path is provided, the last tony table imported with this method is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – A string representing the path to the .tony file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame representing the labels in the .tony file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampact.symbolic.Score.xmlIDs">
<span class="sig-name descname"><span class="pre">xmlIDs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/symbolic.html#Score.xmlIDs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyampact.symbolic.Score.xmlIDs" title="Link to this definition"></a></dt>
<dd><p>Return xml ids per part in a pandas.DataFrame time-aligned with the
objects offset. If the file is not xml or mei, or an idString wasn’t found,
return a DataFrame of the ids of the music21 objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame representing the xml ids in the score.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pyampact.symbolic.Score.nmats" title="pyampact.symbolic.Score.nmats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">nmats()</span></code></a></p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">piece</span> <span class="o">=</span> <span class="n">Score</span><span class="p">(</span><span class="s1">&#39;https://github.com/alexandermorgan/TAVERN/blob/master/Mozart/K455/Stripped/M455_00_03c_a.krn&#39;</span><span class="p">)</span>
<span class="n">piece</span><span class="o">.</span><span class="n">xmlIDs</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="performance.html" class="btn btn-neutral float-left" title="performance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="symbolicUtils.html" class="btn btn-neutral float-right" title="symbolicUtils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, AMPACT Research Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>