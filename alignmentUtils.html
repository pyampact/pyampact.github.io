

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>alignmentUtils &mdash; pyAMPACT 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="https://pyampact.github.io/alignmentUtils.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyampact.alignmentUtils.dpcore" href="generated/pyampact.alignmentUtils.dpcore.html" />
    <link rel="prev" title="pyampact.alignment.get_ons_offs" href="generated/pyampact.alignment.get_ons_offs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyAMPACT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="alignment.html">alignment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">alignmentUtils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">alignmentUtils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.dpcore.html">pyampact.alignmentUtils.dpcore</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.dp.html">pyampact.alignmentUtils.dp</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.gh.html">pyampact.alignmentUtils.gh</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.g.html">pyampact.alignmentUtils.g</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.orio_simmx.html">pyampact.alignmentUtils.orio_simmx</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.simmx.html">pyampact.alignmentUtils.simmx</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.maptimes.html">pyampact.alignmentUtils.maptimes</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.f0_est_weighted_sum.html">pyampact.alignmentUtils.f0_est_weighted_sum</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.f0_est_weighted_sum_spec.html">pyampact.alignmentUtils.f0_est_weighted_sum_spec</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.durations_from_midi_ticks.html">pyampact.alignmentUtils.durations_from_midi_ticks</a></li>
<li class="toctree-l3"><a class="reference internal" href="generated/pyampact.alignmentUtils.load_audiofile.html">pyampact.alignmentUtils.load_audiofile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dataCompilation.html">dataCompilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolic.html">symbolic</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolicUtils.html">symbolicUtils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyAMPACT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">alignmentUtils</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/alignmentUtils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alignmentutils">
<h1>alignmentUtils<a class="headerlink" href="#alignmentutils" title="Link to this heading"></a></h1>
<section id="id1">
<h2>alignmentUtils<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.dpcore.html#pyampact.alignmentUtils.dpcore" title="pyampact.alignmentUtils.dpcore"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dpcore</span></code></a>(M, pen)</p></td>
<td><p>Core dynamic programming calculation of best path.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.dp.html#pyampact.alignmentUtils.dp" title="pyampact.alignmentUtils.dp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dp</span></code></a>(local_costs[, penalty, gutter, G])</p></td>
<td><p>Use dynamic programming to find a min-cost path through a matrix of local costs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.gh.html#pyampact.alignmentUtils.gh" title="pyampact.alignmentUtils.gh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gh</span></code></a>(v1, i1, v2, i2, domain[, frac])</p></td>
<td><p>Get an element that is <cite>frac</cite> fraction of the way between <cite>v1[i1]</cite> and <cite>v2[i2]</cite>, but check bounds on both vectors.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.g.html#pyampact.alignmentUtils.g" title="pyampact.alignmentUtils.g"><code class="xref py py-obj docutils literal notranslate"><span class="pre">g</span></code></a>(vec, idx, domain)</p></td>
<td><p>Get an element from <cite>vec</cite>, checking bounds.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.orio_simmx.html#pyampact.alignmentUtils.orio_simmx" title="pyampact.alignmentUtils.orio_simmx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orio_simmx</span></code></a>(M, D)</p></td>
<td><p>Calculate an Orio&amp;Schwartz-style (Peak Structure Distance) similarity matrix.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.simmx.html#pyampact.alignmentUtils.simmx" title="pyampact.alignmentUtils.simmx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">simmx</span></code></a>(A, B)</p></td>
<td><p>Calculate a similarity matrix between feature matrices A and B.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.maptimes.html#pyampact.alignmentUtils.maptimes" title="pyampact.alignmentUtils.maptimes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">maptimes</span></code></a>(t, intime, outtime)</p></td>
<td><p>Map onset/offset times using linear interpolation from <cite>intime</cite> to <cite>outtime</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.f0_est_weighted_sum.html#pyampact.alignmentUtils.f0_est_weighted_sum" title="pyampact.alignmentUtils.f0_est_weighted_sum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">f0_est_weighted_sum</span></code></a>(x, f, f0i[, fMax, fThresh])</p></td>
<td><p>Calculate F0, power, and spectrum for an inputted spectral representation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.f0_est_weighted_sum_spec.html#pyampact.alignmentUtils.f0_est_weighted_sum_spec" title="pyampact.alignmentUtils.f0_est_weighted_sum_spec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">f0_est_weighted_sum_spec</span></code></a>(noteStart_s, ...[, ...])</p></td>
<td><p>Calculate F0, power, and spectrum for a single note.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.durations_from_midi_ticks.html#pyampact.alignmentUtils.durations_from_midi_ticks" title="pyampact.alignmentUtils.durations_from_midi_ticks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">durations_from_midi_ticks</span></code></a>(filename)</p></td>
<td><p>Extract note durations from a MIDI file using MIDI ticks.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyampact.alignmentUtils.load_audiofile.html#pyampact.alignmentUtils.load_audiofile" title="pyampact.alignmentUtils.load_audiofile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_audiofile</span></code></a>(audio_file)</p></td>
<td><p>Loads file for analysis.</p></td>
</tr>
</tbody>
</table>
</section>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">dp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">penalty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gutter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#dp"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Use dynamic programming to find a min-cost path through a matrix
of local costs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_costs</strong> (<em>np.ndarray</em>) – A 2D matrix of local costs, where each cell represents the cost associated
with that specific position.</p></li>
<li><p><strong>penalty</strong> (<em>float</em><em>, </em><em>optional</em>) – An additional cost incurred for moving in the horizontal or vertical direction
(i.e., (0,1) and (1,0) steps). Default is 0.1.</p></li>
<li><p><strong>gutter</strong> (<em>float</em><em>, </em><em>optional</em>) – A proportion of edge length that allows for deviations away from the
bottom-left corner (-1,-1) in the optimal path. Default is 0.0, meaning
the path must reach the top-right corner.</p></li>
<li><p><strong>G</strong> (<em>float</em><em>, </em><em>optional</em>) – A proportion of the edge length considered for identifying gulleys in the
cost matrix. Default is 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>p</strong> (<em>np.ndarray</em>) – An array of row indices corresponding to the best path.</p></li>
<li><p><strong>q</strong> (<em>np.ndarray</em>) – An array of column indices corresponding to the best path.</p></li>
<li><p><strong>total_costs</strong> (<em>np.ndarray</em>) – A 2D array of minimum costs to reach each cell in the local costs matrix.</p></li>
<li><p><strong>phi</strong> (<em>np.ndarray</em>) – A traceback matrix indicating the preceding best-path step for each cell, where:
- 0 indicates a diagonal predecessor.
- 1 indicates the previous column (same row).
- 2 indicates the previous row (same column).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">dpcore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pen</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#dpcore"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><dl class="simple">
<dt>Core dynamic programming calculation of best path.</dt><dd><p>M[r,c] is the array of local costs.
Create D[r,c] as the array of costs-of-best-paths to r,c,
and phi[r,c] as the indicator of the point preceding [r,c] to
allow traceback; 0 = (r-1,c-1), 1 = (r,c-1), 2 = (r-1, c)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>M</strong> (<em>np.ndarray</em>) – A 2D array of local costs, where M[r, c] represents the cost at position (r, c).</p></li>
<li><p><strong>pen</strong> (<em>float</em>) – A penalty value applied for non-diagonal movements in the path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>D</strong> (<em>np.ndarray</em>) – A 2D array of cumulative best costs to each point (r,c), starting from (0,0).</p></li>
<li><p><strong>phi</strong> (<em>np.ndarray</em>) – A 2D array of integers used for traceback, where:
- 0 indicates the previous point was (r-1, c-1).
- 1 indicates the previous point was (r, c-1).
- 2 indicates the previous point was (r-1, c).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">durations_from_midi_ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#durations_from_midi_ticks"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Extract note durations from a MIDI file using MIDI ticks. This function processes a MIDI file, calculates note onset and offset times
based on MIDI ticks and tempo, and returns the duration matrix (nmat). It handles
tempo changes and computes times by converting MIDI ticks to seconds.</p>
<p>Assumes a default pulses-per-quarter-note (PPQN) value of 96.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the MIDI file to be processed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array where each row contains the start and end times of notes
(in seconds) based on MIDI ticks and tempo changes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">f0_est_weighted_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fThresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#f0_est_weighted_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Calculate F0, power, and spectrum for an inputted spectral representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em><em>, </em><em>shape</em><em> (</em><em>F</em><em>, </em><em>T</em><em>)</em>) – Matrix of complex spectrogram values, where F is the number of frequency bins
and T is the number of time frames.</p></li>
<li><p><strong>f</strong> (<em>np.ndarray</em><em>, </em><em>shape</em><em> (</em><em>F</em><em>, </em><em>T</em><em>)</em>) – Matrix of frequencies corresponding to each of the spectrogram values in <cite>x</cite>.</p></li>
<li><p><strong>f0i</strong> (<em>np.ndarray</em><em>, </em><em>shape</em><em> (</em><em>1</em><em>, </em><em>T</em><em>)</em>) – Initial estimates of F0 for each time frame. This should be a 1D array containing
the F0 estimates for each time point.</p></li>
<li><p><strong>fMax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum frequency to consider in the weighted sum. Defaults to 5000 Hz.</p></li>
<li><p><strong>fThresh</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum distance in Hz from each harmonic to consider. If not specified, no threshold
will be applied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>f0</strong> (<em>np.ndarray</em>) – Vector of estimated F0s from the beginning to the end of the input time series.</p></li>
<li><p><strong>p</strong> (<em>np.ndarray</em>) – Vector of corresponding “powers” derived from the weighted sum of the estimated F0.</p></li>
<li><p><strong>strips</strong> (<em>np.ndarray</em>) – Estimated spectrum for each partial frequency based on the weighted contributions.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">f0_est_weighted_sum_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noteStart_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noteEnd_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">midiNote</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useIf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#f0_est_weighted_sum_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Calculate F0, power, and spectrum for a single note.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Name of the WAV file to analyze.</p></li>
<li><p><strong>noteStart_s</strong> (<em>float</em>) – Start position (in seconds) of the note to analyze.</p></li>
<li><p><strong>noteEnd_s</strong> (<em>float</em>) – End position (in seconds) of the note to analyze.</p></li>
<li><p><strong>midiNote</strong> (<em>int</em>) – MIDI note number of the note to analyze.</p></li>
<li><p><strong>y</strong> (<em>np.ndarray</em>) – Audio time series data from the WAV file.</p></li>
<li><p><strong>sr</strong> (<em>int</em>) – Sample rate of the audio signal.</p></li>
<li><p><strong>useIf</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, use instantaneous frequency; otherwise, use spectrogram frequencies.
Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>f0</strong> (<em>np.ndarray</em>) – Vector of estimated F0s from <cite>noteStart_s</cite> to <cite>noteEnd_s</cite>.</p></li>
<li><p><strong>p</strong> (<em>np.ndarray</em>) – Vector of corresponding “powers” derived from the weighted sum of the estimated F0.</p></li>
<li><p><strong>M</strong> (<em>np.ndarray</em>) – Estimated spectrum for the analyzed note.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#g"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get an element from <cite>vec</cite>, checking bounds. <cite>Domain</cite> is the set of points
that <cite>vec</cite> is a subset of.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vec</strong> (<em>np.ndarray</em>) – A 1D numpy array representing the input vector.</p></li>
<li><p><strong>idx</strong> (<em>int</em>) – The index of the desired element in <cite>vec</cite>.</p></li>
<li><p><strong>domain</strong> (<em>np.ndarray</em>) – A 1D numpy array representing the set of valid points,
of which <cite>vec</cite> is a subset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The element from <cite>vec</cite> at index <cite>idx</cite> if it is within bounds;
otherwise, the first element of <cite>domain</cite> if <cite>idx</cite> is less than 0,
or the last element of <cite>domain</cite> if <cite>idx</cite> exceeds the bounds of <cite>vec</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">gh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#gh"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Get an element that is <cite>frac</cite> fraction of the way between <cite>v1[i1]</cite> and <cite>v2[i2]</cite>,
but check bounds on both vectors. <cite>frac</cite> of 0 returns <cite>v1[i1]</cite>, <cite>frac</cite> of 1 returns <cite>v2[i2]</cite>,
<cite>frac</cite> of 0.5 (the default) returns halfway between them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v1</strong> (<em>np.ndarray</em>) – A 1D numpy array representing the first vector.</p></li>
<li><p><strong>i1</strong> (<em>int</em>) – The index in <cite>v1</cite> from which to retrieve the value.</p></li>
<li><p><strong>v2</strong> (<em>np.ndarray</em>) – A 1D numpy array representing the second vector.</p></li>
<li><p><strong>i2</strong> (<em>int</em>) – The index in <cite>v2</cite> from which to retrieve the value.</p></li>
<li><p><strong>domain</strong> (<em>tuple</em>) – A tuple representing the valid bounds for both vectors. This should
define the minimum and maximum allowable indices.</p></li>
<li><p><strong>frac</strong> (<em>float</em><em>, </em><em>optional</em>) – A fraction indicating how far between the two specified elements
to interpolate. Default is 0.5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The element that is <cite>frac</cite> fraction of the way between <cite>v1[i1]</cite>
and <cite>v2[i2]</cite>, clipped to the specified domain bounds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">load_audiofile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">audio_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#load_audiofile"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Loads file for analysis. Currently only the WAV file format is allowed.  AIFF, MP3, etc. must be converted prior.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>audio_file</strong> (<em>str</em>) – The path to the wav file to be loaded.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>audio_data</strong> (<em>The loaded wav file as a numpy array.</em>)</p></li>
<li><p><strong>sr</strong> (<em>The original sample rate of the audio file.</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">maptimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outtime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#maptimes"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Map onset/offset times using linear interpolation from <cite>intime</cite> to <cite>outtime</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<em>np.ndarray</em><em> of </em><em>shape</em><em> (</em><em>N</em><em>, </em><em>2</em><em>)</em>) – Each row contains [onset, offset].</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapped onset and offset times.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray of shape (N, 2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">orio_simmx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#orio_simmx"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Calculate an Orio&amp;Schwartz-style (Peak Structure Distance) similarity matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>M</strong> (<em>np.ndarray</em>) – A binary mask where each column corresponds to a row in the output similarity matrix S.
The mask indicates the presence or absence of MIDI notes or relevant features.</p></li>
<li><p><strong>D</strong> (<em>np.ndarray</em>) – The regular spectrogram where the columns of the similarity matrix S correspond to the columns of D.
This spectrogram represents the audio signal over time and frequency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The similarity matrix S, calculated based on the Peak Structure Distance between the binary mask M and the spectrogram D.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pyampact.alignmentUtils.</span></span><span class="sig-name descname"><span class="pre">simmx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyampact/alignmentUtils.html#simmx"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Calculate a similarity matrix between feature matrices A and B.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<em>np.ndarray</em>) – The first feature matrix, where each row represents a sample and each column represents a feature.</p></li>
<li><p><strong>B</strong> (<em>np.ndarray</em><em>, </em><em>optional</em>) – The second feature matrix. If not provided, B will be set to A, allowing for self-similarity calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The similarity matrix between A and B, where the element at (i, j) represents the similarity
between the i-th sample of A and the j-th sample of B.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="generated/pyampact.alignment.get_ons_offs.html" class="btn btn-neutral float-left" title="pyampact.alignment.get_ons_offs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="generated/pyampact.alignmentUtils.dpcore.html" class="btn btn-neutral float-right" title="pyampact.alignmentUtils.dpcore" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, AMPACT Research Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>